"use strict";angular.module("federicot.ng-message-center",[]).factory("ngMessageCenter",["$rootScope",function(a){var b={},c=0,d={defaultOptions:{name:"default",next:!1,stack:!1,timeout:3e3},error:function(a){a.type="alert-danger",this.add(a)},warning:function(a){a.type="alert-warning",this.add(a)},success:function(a){a.type="alert-success",this.add(a)},info:function(a){a.type="alert-info",this.add(a)},add:function(a){c+=1;var e;return e=angular.extend({},this.defaultOptions,a),void 0===b[e.name]?void console.error("Directive ngmessagecenter-messages with name '"+e.name+"' can't be found."):(e.stack||this.clear(e.name),e.id=c,e.close=function(){d.remove(this)},void(e.next?b[e.name].next.push(e):b[e.name].current.push(e)))},remove:function(a){for(var c=0,d=b[a.name].current.length;d>c;c++)if(b[a.name].current[c].id===a.id){b[a.name].current.splice(c,1);break}},clear:function(a){return a?void(b[a].current.length=0):void angular.forEach(b,function(a,c){b[c].current.length=0})},createSpace:function(a){b[a]||(b[a]={next:[],current:[]})},moveNextToCurrent:function(){angular.forEach(b,function(a,c){angular.copy(b[c].next,b[c].current),b[c].next.length=0})},get:function(a){return a||(a="default"),this.createSpace(a),b[a]}};return a.$on("$locationChangeStart",function(){d.clear()}),a.$on("$locationChangeSuccess",function(){d.moveNextToCurrent()}),d.createSpace("default"),d}]).directive("ngmessagecenterMessages",["ngMessageCenter","$compile",function(a,b){var c='<div class="row"> <div class="col-lg-12 " ng-repeat="message in getMyMessages()">     <ngmessagecenter-message message="message"></ngmessagecenter-message> </div></div>';return{restrict:"E",template:c,link:function(b,c,d){var e=d.name?d.name:"default";if(void 0===b.messages&&(b.messages=new Object),void 0!==d.growl){c.addClass("message-center-grow");var f=d.growl.indexOf("bottom")>-1,g=d.growl.indexOf("left")>-1;f?c.addClass("bottom"):c.addClass("top"),g?c.addClass("left"):c.addClass("right")}b.getMyMessages=function(){return void 0===b.messages[e]&&(b.messages[e]=a.get(e)),b.messages[e].current}}}}]).directive("ngmessagecenterMessage",["$timeout",function(a){var b='<div class="alert fade in" role="alert" ng-class="message.type"> <button type="button" class="close" data-dismiss="alert">      <span aria-hidden="true">Ã—</span> </button> <strong ng-if="message.title">{{message.title}} </strong>{{message.text}}</div>';return{restrict:"E",template:b,link:function(b,c,d){if(void 0!==b.message&&b.message.timeout){var e=angular.element(c).children().first();e.on("closed.bs.alert",function(){b.message.close()}),console.log(e.alert),a(function(){b.message.close()},b.message.timeout)}}}}]);